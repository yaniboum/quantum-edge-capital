<!DOCTYPE html>
<html lang="fr" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quantum Edge Capital - Trading par IA</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Exo+2:wght@500;700;800&family=Inter:wght@400;500&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; background-color: #0a192f; color: #cbd5e1; }
        main { padding-top: 80px; }
        h1, h2, h3, .stat-value { font-family: 'Exo 2', sans-serif; font-weight: 700; }
        #hero-canvas { position: absolute; top: 0; left: 0; width: 100%; height: 100%; z-index: 1; }
        .hero-content { position: relative; z-index: 2; }
        .nav-link { transition: color 0.3s ease; position: relative; }
        .nav-link:hover { color: #64ffda; }
        .nav-link::after { content: ''; position: absolute; width: 0; height: 2px; bottom: -5px; left: 50%; transform: translateX(-50%); background-color: #64ffda; transition: width 0.3s ease; }
        .nav-link:hover::after { width: 100%; }
        .gemini-result-box { min-height: 100px; }
    </style>
</head>
<body class="antialiased">
    <header class="bg-[#0a192f]/80 backdrop-blur-sm fixed top-0 left-0 right-0 z-50 transition-all duration-300">
        <div class="container mx-auto px-6 flex justify-between items-center h-20">
            <a href="#home" class="flex items-center space-x-3 cursor-pointer">
                <canvas id="logo-canvas" width="36" height="36"></canvas>
                <span class="hidden sm:block text-xl font-semibold text-white tracking-wider">Quantum Edge Capital</span>
            </a>
            <nav class="hidden md:flex items-center space-x-8">
                <a href="#home" class="text-slate-300 nav-link">Accueil</a>
                <a href="#technology" class="text-slate-300 nav-link">Technologie</a>
                <a href="#performance" class="text-slate-300 nav-link">Performance</a>
                <a href="#contact" class="text-slate-300 nav-link">Contact</a>
            </nav>
            <a href="/login" class="hidden md:inline-block bg-[#64ffda] text-[#0a192f] font-bold py-2 px-4 rounded hover:bg-opacity-80 transition-all">
                Connexion Client
            </a>
            <button id="mobile-menu-button" class="md:hidden text-white text-3xl z-50">
                <span id="menu-icon-open">☰</span><span id="menu-icon-close" class="hidden">✕</span>
            </button>
        </div>
        <div id="mobile-menu" class="hidden md:hidden bg-[#112240] absolute top-20 left-0 w-full">
            <div class="flex flex-col items-center py-4">
                <a href="#home" class="block text-slate-300 py-3 text-lg mobile-nav-link">Accueil</a>
                <a href="#technology" class="block text-slate-300 py-3 text-lg mobile-nav-link">Technologie</a>
                <a href="#performance" class="block text-slate-300 py-3 text-lg mobile-nav-link">Performance</a>
                <a href="#contact" class="block text-slate-300 py-3 text-lg mobile-nav-link">Contact</a>
                <div class="text-center mt-4">
                   <a href="/login" class="inline-block bg-[#64ffda] text-[#0a192f] font-bold py-3 px-8 rounded hover:bg-opacity-80 transition-all mobile-nav-link">
                    Connexion Client
                   </a>
                </div>
            </div>
        </div>
    </header>
    <main>
        <section id="home" class="min-h-screen flex items-center justify-center text-center px-6 relative overflow-hidden bg-[#0a192f]">
            <canvas id="hero-canvas"></canvas>
            <div class="max-w-4xl hero-content">
                <h1 class="text-5xl md:text-7xl lg:text-8xl text-white tracking-tighter leading-tight mb-4">
                    Exploiter l'Intelligence Artificielle pour une Performance de Portefeuille Supérieure.
                </h1>
                <p class="text-lg md:text-xl max-w-3xl mx-auto text-slate-400 mb-8">
                    Quantum Edge Capital utilise un système propriétaire basé sur l'IA pour analyser les données du marché, identifier les opportunités et exécuter des transactions sans biais émotionnel humain.
                </p>
                <a href="https://t.me/yourchannelname" target="_blank" rel="noopener noreferrer" class="bg-[#64ffda] text-[#0a192f] font-bold py-4 px-8 rounded text-lg hover:bg-opacity-80 transition-all">
                    Rejoignez Notre Chaîne Telegram
                </a>
            </div>
        </section>
        <section class="py-20 bg-[#112240]">
            <div class="container mx-auto px-6">
                <div class="grid md:grid-cols-2 gap-12 items-stretch">
                    <div class="flex flex-col text-center bg-[#0a192f] p-8 rounded-lg shadow-lg">
                        <div class="flex flex-col items-center justify-center mb-6">
                            <div class="w-16 h-12 relative mb-3 flex items-center justify-center">
                                <div class="absolute w-px h-full bg-slate-700"></div><div class="absolute w-full h-px bg-slate-700"></div>
                                <div class="absolute w-10 h-px bg-red-500 transform rotate-[20deg]"></div>
                                <div class="absolute w-8 h-px bg-red-500 transform -rotate-[35deg] translate-x-3"></div>
                                <div class="absolute w-6 h-px bg-red-500 transform rotate-[10deg] -translate-x-4"></div>
                            </div>
                            <h2 class="text-4xl text-white">La Faille de la Décision Humaine.</h2>
                        </div>
                        <p class="text-slate-400 flex-grow">La peur, l'avidité et les biais cognitifs sont les plus grandes menaces pour le succès des investissements à long terme. Les décisions émotionnelles mènent à des rendements incohérents et à des opportunités manquées.</p>
                    </div>
                    <div class="flex flex-col text-center bg-[#0a192f] p-8 rounded-lg shadow-lg">
                         <div class="flex flex-col items-center justify-center mb-6">
                            <div class="w-16 h-12 relative mb-3 flex items-center justify-center">
                               <div class="w-12 h-12 border-b-2 border-l-2 border-[#64ffda] rounded-bl-full transform -rotate-45"></div>
                            </div>
                            <h2 class="text-4xl text-white">Exécution sans Émotion, Basée sur les Données.</h2>
                        </div>
                        <p class="text-slate-400 flex-grow">Notre système fonctionne uniquement sur l'analyse quantitative et la probabilité statistique. En supprimant l'élément humain, nous obtenons une approche disciplinée et cohérente de la croissance du portefeuille.</p>
                    </div>
                </div>
            </div>
        </section>
        
        <section class="py-20 bg-[#0a192f]">
             <div class="container mx-auto px-6 text-center">
                <h2 class="text-5xl text-white mb-4">Une Histoire de Gains Constants.</h2>
                <p class="text-slate-400 max-w-3xl mx-auto mb-12">Nous ne visons pas des gains spectaculaires et risqués, mais une croissance régulière et fiable. La transparence de nos résultats audités est le fondement de la confiance de nos clients.</p>
                
                <div class="grid lg:grid-cols-2 gap-12 items-center max-w-6xl mx-auto text-left">
                    <div class="bg-[#112240] p-6 rounded-lg shadow-lg">
                        <h3 class="text-2xl text-white mb-4 text-center lg:text-left">Gains Mensuels Récents (%)</h3>
                        <div class="h-80"><canvas id="monthlyGainsChart"></canvas></div>
                    </div>
                    <div class="space-y-8">
                        <div class="bg-[#112240] p-8 rounded-lg shadow-lg">
                            <h3 class="text-2xl text-slate-300 mb-2">Gain Total</h3>
                            <p class="stat-value text-7xl text-[#64ffda]">+127.45%</p>
                        </div>
                        <div class="grid grid-cols-2 gap-8">
                            <div class="bg-[#112240] p-6 rounded-lg shadow-lg">
                                <h3 class="text-xl text-slate-300 mb-2">Mois Gagnants</h3>
                                <p class="stat-value text-5xl text-white">10 / 12</p>
                            </div>
                            <div class="bg-[#112240] p-6 rounded-lg shadow-lg">
                                <h3 class="text-xl text-slate-300 mb-2">Gain Mensuel Moyen</h3>
                                <p class="stat-value text-5xl text-white">+3.21%</p>
                            </div>
                        </div>
                    </div>
                </div>
                 <a href="#performance" class="mt-12 inline-block border-2 border-[#64ffda] text-[#64ffda] font-bold py-3 px-8 rounded hover:bg-[#64ffda] hover:text-[#0a192f] transition-all">Explorer les Données Complètes</a>
            </div>
        </section>

        <section id="social-proof" class="py-20 bg-[#112240]">
            <div class="container mx-auto px-6 text-center">
                <h2 class="text-5xl text-white mb-4">Approuvé par une Communauté Grandissante.</h2>
                <p class="text-slate-400 max-w-3xl mx-auto mb-12">Retours directs des premiers membres qui exploitent notre IA pour leurs portefeuilles. Votre succès est notre réputation.</p>
                <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8 text-left">
                    <div class="bg-[#0a192f] p-8 rounded-lg shadow-lg border border-slate-800 flex flex-col">
                        <p class="text-slate-300 mb-6 italic flex-grow">"La transparence est ce qui m'a convaincu. Voir la performance en direct et sans filtre m'a donné la confiance nécessaire pour m'impliquer. Les résultats ont été exactement comme annoncés, constants et sans les montagnes russes émotionnelles."</p>
                        <div class="flex items-center"><div class="w-12 h-12 rounded-full bg-slate-700 flex items-center justify-center mr-4 flex-shrink-0"><span class="text-lg font-bold text-white">KA</span></div><div><p class="font-bold text-white text-lg">Karim A.</p><p class="text-sm text-[#64ffda]">Investisseur Privé</p></div></div>
                    </div>
                    <div class="bg-[#0a192f] p-8 rounded-lg shadow-lg border border-slate-800 flex flex-col">
                        <p class="text-slate-300 mb-6 italic flex-grow">"En tant que personne qui comprend les marchés, je suis profondément impressionné par la gestion des risques. La capacité du système à protéger le capital pendant les périodes volatiles est de premier ordre. Il ne s'agit pas seulement de gains, mais de croissance intelligente et durable."</p>
                        <div class="flex items-center"><div class="w-12 h-12 rounded-full bg-slate-700 flex items-center justify-center mr-4 flex-shrink-0"><span class="text-lg font-bold text-white">YH</span></div><div><p class="font-bold text-white text-lg">Yasmine H.</p><p class="text-sm text-[#64ffda]">Analyste Financière</p></div></div>
                    </div>
                    <div class="bg-[#0a192f] p-8 rounded-lg shadow-lg border border-slate-800 flex flex-col">
                        <p class="text-slate-300 mb-6 italic flex-grow">"Rejoindre le groupe Telegram a été la meilleure décision. Les mises à jour sont opportunes et la communauté est professionnelle. On a l'impression de faire partie d'une société de trading exclusive et axée sur la technologie. Je le recommande vivement."</p>
                        <div class="flex items-center"><div class="w-12 h-12 rounded-full bg-slate-700 flex items-center justify-center mr-4 flex-shrink-0"><span class="text-lg font-bold text-white">ML</span></div><div><p class="font-bold text-white text-lg">Mehdi L.</p><p class="text-sm text-[#64ffda]">Entrepreneur Tech</p></div></div>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- SECTION TECHNOLOGIE AVEC IA GEMINI -->
        <section id="technology" class="py-20 bg-[#0a192f]">
            <div class="container mx-auto px-6 text-center">
                <h2 class="text-5xl text-white mb-4">Au Cœur de l'Algorithme.</h2>
                <p class="text-slate-400 max-w-3xl mx-auto mb-12">Notre système propriétaire est construit sur une base d'apprentissage automatique, d'analyse quantitative et de gestion dynamique des risques. Interagissez avec notre IA pour comprendre son approche.</p>
                
                <!-- Outil Interactif Gemini -->
                <div class="max-w-3xl mx-auto bg-[#112240] p-8 rounded-lg shadow-lg text-left">
                    <h3 class="text-2xl text-white mb-4">✨ Découvrez Votre Stratégie d'Investissement par IA</h3>
                    <div class="flex flex-col sm:flex-row items-center gap-4">
                        <div class="w-full sm:w-1/2">
                            <label for="risk-level" class="block text-sm font-medium text-slate-400">Quel est votre profil de risque ?</label>
                            <select id="risk-level" class="mt-1 block w-full pl-3 pr-10 py-2 text-base border-slate-700 bg-[#0a192f] text-white focus:outline-none focus:ring-[#64ffda] focus:border-[#64ffda] sm:text-sm rounded-md">
                                <option>Prudent</option>
                                <option selected>Modéré</option>
                                <option>Agressif</option>
                            </select>
                        </div>
                        <button id="generate-strategy-btn" class="w-full sm:w-auto mt-4 sm:mt-0 bg-[#64ffda] text-[#0a192f] font-bold py-2 px-6 rounded hover:bg-opacity-80 transition-all self-end">
                            Générer l'Aperçu
                        </button>
                    </div>
                    <div id="strategy-result-box" class="mt-6 p-4 bg-[#0a192f] rounded-md border border-slate-700 gemini-result-box text-slate-300">
                        Sélectionnez un profil et cliquez sur "Générer" pour voir comment notre IA adapterait sa stratégie pour vous.
                    </div>
                </div>

            </div>
        </section>

        <section id="performance" class="py-20 bg-[#112240]">
            <div class="container mx-auto px-6 text-center">
                <h2 class="text-5xl text-white mb-4">Performance Transparente et Vérifiée.</h2>
                <p class="text-slate-400 max-w-3xl mx-auto mb-12">Nous croyons en la transparence radicale. Notre historique de trading complet est connecté directement à notre courtier et vérifié par un tiers. Les données que vous voyez sont authentiques et ne peuvent pas être manipulées.</p>
                <div class="bg-[#0a192f] p-4 sm:p-8 rounded-lg shadow-lg mb-16"><h3 class="text-3xl text-white mb-4">Courbe de Capitaux</h3><div class="h-64 sm:h-80 md:h-96"><canvas id="equityCurveChart"></canvas></div></div>
                <h2 class="text-5xl text-white mb-4">Analyse Statistique Approfondie.</h2>
                <p class="text-slate-400 max-w-3xl mx-auto mb-12">Explorez la performance mensuelle et la distribution statistique des rendements pour mieux comprendre la cohérence et le profil de risque de la stratégie.</p>
                <div class="grid lg:grid-cols-5 gap-12 items-start">
                    <div class="bg-[#0a192f] p-4 sm:p-6 rounded-lg shadow-lg lg:col-span-3"><h3 class="text-3xl text-white mb-6">Carte Thermique des Performances (%)</h3><div class="grid grid-cols-4 gap-2 max-w-md mx-auto"><div class="text-center font-bold text-slate-400">Année</div><div class="text-center font-bold text-slate-400">T1</div><div class="text-center font-bold text-slate-400">T2</div><div class="text-center font-bold text-slate-400">T3</div><div class="font-bold text-slate-300 flex items-center justify-center">2023</div><div class="heatmap-cell rounded bg-green-700">+8.21</div><div class="heatmap-cell rounded bg-green-600">+5.11</div><div class="heatmap-cell rounded bg-red-700">-1.53</div><div class="font-bold text-slate-300 flex items-center justify-center">2024</div><div class="heatmap-cell rounded bg-green-500">+12.40</div><div class="heatmap-cell rounded bg-green-600">+7.80</div><div class="heatmap-cell rounded bg-green-700">+9.15</div><div class="font-bold text-slate-300 flex items-center justify-center">2025</div><div class="heatmap-cell rounded bg-green-600">+6.55</div><div class="heatmap-cell rounded bg-green-500">+15.20</div><div class="heatmap-cell rounded bg-green-700">+8.90</div></div></div>
                    <div class="bg-[#0a192f] p-4 sm:p-6 rounded-lg shadow-lg lg:col-span-2"><h3 class="text-3xl text-white mb-6">Distribution des Rendements</h3><div class="h-64 sm:h-80"><canvas id="histogramChart"></canvas></div></div>
                </div>
            </div>
        </section>
        <section id="contact" class="py-20 bg-[#112240]">
            <div class="container mx-auto px-6">
                 <div class="text-center">
                    <h2 class="text-5xl text-white mb-4">Rejoignez la Conversation.</h2>
                    <p class="text-slate-400 max-w-3xl mx-auto mb-12">Devenez membre de la communauté Quantum Edge. Rejoignez notre chaîne Telegram pour des mises à jour en direct, des rapports de performance et un accès direct à notre équipe.</p>
                </div>
                <div class="text-center">
                    <a href="https://t.me/yourchannelname" target="_blank" rel="noopener noreferrer" class="inline-flex items-center justify-center bg-sky-500 text-white font-bold py-4 px-10 rounded text-xl hover:bg-sky-600 transition-all w-full sm:w-auto shadow-lg"><span class="mr-3 text-3xl transform -rotate-45 -translate-y-px">➤</span>Rejoindre le Telegram Officiel</a>
                </div>
            </div>
        </section>
    </main>
    <footer class="bg-[#0a192f] py-8 text-center border-t border-slate-800">
        <div class="container mx-auto px-6">
             <div class="flex justify-center mb-6"><a href="https://t.me/yourchannelname" target="_blank" rel="noopener noreferrer" title="Rejoignez notre Telegram" class="w-12 h-12 flex items-center justify-center rounded-full bg-slate-800 text-sky-400 hover:bg-sky-500 hover:text-white transition-all text-3xl"><span class="transform -rotate-45 -translate-y-px">➤</span></a></div>
            <p class="text-slate-500">© 2025 Quantum Edge Capital. Tous Droits Réservés.</p>
            <p class="text-slate-600 text-sm mt-2 max-w-3xl mx-auto">Le trading implique un risque substantiel et ne convient pas à tous les investisseurs. Un investisseur pourrait potentiellement perdre la totalité ou plus de son investissement initial.</p>
        </div>
    </footer>
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const mobileMenuButton = document.getElementById('mobile-menu-button');
            const mobileMenu = document.getElementById('mobile-menu');
            const menuIconOpen = document.getElementById('menu-icon-open');
            const menuIconClose = document.getElementById('menu-icon-close');
            mobileMenuButton.addEventListener('click', () => { mobileMenu.classList.toggle('hidden'); menuIconOpen.classList.toggle('hidden'); menuIconClose.classList.toggle('hidden'); });
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    if (this.getAttribute('href').startsWith('#')) {
                        e.preventDefault();
                        document.querySelector(this.getAttribute('href')).scrollIntoView({ behavior: 'smooth' });
                        if (mobileMenu && !mobileMenu.classList.contains('hidden')) { mobileMenu.classList.add('hidden'); menuIconOpen.classList.remove('hidden'); menuIconClose.classList.add('hidden'); }
                    }
                });
            });
            const FONT_COLOR = '#cbd5e1'; const GRID_COLOR = 'rgba(203, 213, 225, 0.1)';
            
            const monthlyGainsCtx = document.getElementById('monthlyGainsChart');
            if (monthlyGainsCtx) {
                new Chart(monthlyGainsCtx, {
                    type: 'bar',
                    data: {
                        labels: ['Jan', 'Fév', 'Mar', 'Avr', 'Mai', 'Juin', 'Juil', 'Août'],
                        datasets: [{
                            label: 'Gain Mensuel (%)',
                            data: [2.1, 3.5, 1.8, 4.2, 2.5, 3.1, 2.8, 4.5],
                            backgroundColor: '#64ffda',
                            borderRadius: 4,
                        }]
                    },
                    options: { responsive: true, maintainAspectRatio: false, plugins: { legend: { display: false } }, scales: { x: { ticks: { color: FONT_COLOR }, grid: { display: false } }, y: { ticks: { color: FONT_COLOR, callback: (v) => v + '%' }, grid: { color: GRID_COLOR, borderDash: [2, 3] } } } }
                });
            }

            const equityData = { labels: ['Jan', 'Fév', 'Mar', 'Avr', 'Mai', 'Juin', 'Juil', 'Août', 'Sep', 'Oct', 'Nov', 'Déc'], datasets: [{ label: 'Croissance des Capitaux', data: [10000, 10500, 11200, 12100, 11800, 13000, 14500, 15100, 16000, 17200, 18500, 22745], borderColor: '#64ffda', backgroundColor: 'rgba(100, 255, 218, 0.1)', fill: true, tension: 0.4, pointRadius: 0 }] };
            const equityConfig = { type: 'line', data: equityData, options: { responsive: true, maintainAspectRatio: false, plugins: { legend: { display: false } }, scales: { x: { ticks: { color: FONT_COLOR }, grid: { color: GRID_COLOR } }, y: { ticks: { color: FONT_COLOR, callback: (v) => '$' + (v / 1000) + 'k' }, grid: { color: GRID_COLOR } } } } };
            const equityCurveCtx = document.getElementById('equityCurveChart'); if(equityCurveCtx) new Chart(equityCurveCtx, equityConfig);
            const histogramData = { labels: ['-3%..-2%', '-2%..-1%', '-1%..0%', '0%..1%', '1%..2%', '2%..3%'], datasets: [{ label: 'Fréquence', data: [3, 8, 15, 45, 22, 7], backgroundColor: 'rgba(100, 255, 218, 0.5)', borderColor: '#64ffda', borderWidth: 1 }] };
            const histogramConfig = { type: 'bar', data: histogramData, options: { responsive: true, maintainAspectRatio: false, plugins: { legend: { display: false } }, scales: { x: { title: { display: true, text: '% Rendement Hebdomadaire', color: FONT_COLOR }, ticks: { color: FONT_COLOR }, grid: { display: false } }, y: { title: { display: true, text: 'Fréquence (Semaines)', color: FONT_COLOR }, ticks: { color: FONT_COLOR }, grid: { color: GRID_COLOR } } } } };
            const histogramCtx = document.getElementById('histogramChart'); if(histogramCtx) new Chart(histogramCtx, histogramConfig);
            const logoCanvas = document.getElementById('logo-canvas');
            if (logoCanvas) {
                const ctx = logoCanvas.getContext('2d'); const w = logoCanvas.width; const h = logoCanvas.height; const color = '#64ffda';
                const points = [{x:w*0.5,y:h*0.1},{x:w*0.85,y:h*0.3},{x:w*0.9,y:h*0.6},{x:w*0.6,y:h*0.9},{x:w*0.2,y:h*0.8},{x:w*0.1,y:h*0.45},{x:w*0.65,y:h*0.65},{x:w*0.85,y:h*0.85}];
                ctx.strokeStyle = color; ctx.lineWidth = 1.2; ctx.beginPath(); ctx.moveTo(points[0].x, points[0].y); ctx.lineTo(points[1].x, points[1].y); ctx.lineTo(points[2].x, points[2].y); ctx.lineTo(points[3].x, points[3].y); ctx.lineTo(points[4].x, points[4].y); ctx.lineTo(points[5].x, points[5].y); ctx.closePath(); ctx.moveTo(points[1].x, points[1].y); ctx.lineTo(points[4].x, points[4].y); ctx.moveTo(points[0].x, points[0].y); ctx.lineTo(points[3].x, points[3].y); ctx.moveTo(points[6].x, points[6].y); ctx.lineTo(points[7].x, points[7].y); ctx.stroke();
                ctx.fillStyle = color; points.forEach(p => { ctx.beginPath(); ctx.arc(p.x, p.y, 1.8, 0, Math.PI * 2); ctx.fill(); });
            }
            const canvas = document.getElementById('hero-canvas');
            if (canvas) {
                const ctx = canvas.getContext('2d'); let particlesArray;
                const setCanvasDimensions = () => { canvas.width = canvas.offsetWidth; canvas.height = canvas.offsetHeight; };
                class Particle { constructor(x, y, dX, dY, s, c) { this.x=x;this.y=y;this.directionX=dX;this.directionY=dY;this.size=s;this.color=c; } draw() { ctx.beginPath(); ctx.arc(this.x,this.y,this.size,0,Math.PI*2,false); ctx.fillStyle=this.color; ctx.fill(); } update() { if(this.x>canvas.width||this.x<0)this.directionX=-this.directionX; if(this.y>canvas.height||this.y<0)this.directionY=-this.directionY; this.x+=this.directionX; this.y+=this.directionY; this.draw(); } }
                const init = () => { particlesArray = []; let num = (canvas.height * canvas.width) / 9000; for (let i = 0; i < num; i++) { let s = (Math.random()*2)+1, x = (Math.random()*((canvas.width-s*2)-(s*2))+s*2), y = (Math.random()*((canvas.height-s*2)-(s*2))+s*2), dX=(Math.random()*.4)-.2, dY=(Math.random()*.4)-.2, c='rgba(203,213,225,.4)'; particlesArray.push(new Particle(x,y,dX,dY,s,c)); } };
                const connect = () => { for (let a=0; a<particlesArray.length; a++) { for (let b=a; b<particlesArray.length; b++) { let dist = (((particlesArray[a].x - particlesArray[b].x)**2)+((particlesArray[a].y - particlesArray[b].y)**2)); if (dist < (canvas.width/7)*(canvas.height/7)) { let opacity = 1-(dist/20000); ctx.strokeStyle=`rgba(136, 146, 176, ${opacity})`; ctx.lineWidth=1; ctx.beginPath(); ctx.moveTo(particlesArray[a].x, particlesArray[a].y); ctx.lineTo(particlesArray[b].x, particlesArray[b].y); ctx.stroke(); } } } };
                let animationFrameId; const animate = () => { animationFrameId = requestAnimationFrame(animate); ctx.clearRect(0,0,canvas.width,canvas.height); particlesArray.forEach(p=>p.update()); connect(); };
                setCanvasDimensions(); init(); animate(); window.addEventListener('resize', () => { cancelAnimationFrame(animationFrameId); setCanvasDimensions(); init(); animate(); });
            }

            // NOUVEAU : Logique pour l'outil Gemini
            const generateBtn = document.getElementById('generate-strategy-btn');
            const riskLevelSelect = document.getElementById('risk-level');
            const resultBox = document.getElementById('strategy-result-box');

            generateBtn.addEventListener('click', async () => {
                const riskLevel = riskLevelSelect.value;
                resultBox.textContent = 'Génération en cours...';
                generateBtn.disabled = true;

                try {
                    const response = await fetch('/api/strategy-insight', {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({ risk_level: riskLevel })
                    });
                    const data = await response.json();
                    resultBox.textContent = data.insight;
                } catch (error) {
                    console.error("Erreur lors de la récupération de l'aperçu de la stratégie:", error);
                    resultBox.textContent = "Une erreur est survenue. Veuillez réessayer.";
                } finally {
                    generateBtn.disabled = false;
                }
            });
        });
    </script>
</body>
</html>

